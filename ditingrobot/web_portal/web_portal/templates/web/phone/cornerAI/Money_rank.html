<!DOCTYPE html>
<html>
<head>
    <link rel="shortcut icon" href="/static/images/favicon.ico">
    <title>黑图-排行榜</title>
    <meta name="keywords" content="机器人,谛听机器人,自动应答程序,客服机器人,问答机器人,招聘机器人">
    <meta name="description" content="谛听机器人能通过注册获得自己的问答机器人。该机器人可以捆绑在自己公众号，可以部署在自己网站上，可以通过我们提供的API 进行二次开发，接入各类软件。用户可以通过我们提供的管理后台增加和编辑机器人的问答知识，将机器人用于客服、销售、招聘，机器人会自动按照用户添加的问题和答案回答提问。我们善于做上下文处理，对语义的理解更加精准。">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <script type="text/javascript" src="/static/js/lib/jquery-2.2.3.min.js" ></script>
    <script type="text/javascript" src="/static/js/diting-common.js{{ _suffix_ }}"></script>
    <script type="text/javascript" src="/static/js/talk.js{{ _suffix_ }}"></script>

    <style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			a{
				text-decoration: none;
                outline: none;
			}
			ul,ol,li{
				list-style: none;
			}
			html,body{
				width: 100%;
				height: 100%;
				font-family: "Hiragino Sans GB";
				font-size: 62.5%;
			}
            button{
                outline: none;
            }
            input[type=button], input[type=submit], input[type=file], button { cursor: pointer; -webkit-appearance: none; }
			#wrapper{
				width: 100%;
				height: 100%;
				position: relative;
				top: 0;
				left: 0;
				overflow: hidden;
				background: #f3f2f2;
			}
			#scroller{
				width: 100%;
				position: absolute;
				top: 8%;
			}
			#head{
				position: fixed;
				top: 0;
				left: 0;
				z-index: 998;
				height: 8%;
				width: 100%;
				display: flex;
				justify-content: space-between;
				background: #333333;
			}
			#nav{
				width: 100%;
				height: 92%;
				position: fixed;
				top: 8%;
				left: -100%;
                z-index: 999;
			}
			#navLeft{
				width: 50%;
				height: 100%;
				float: left;
				background: white;
			}

			#pullNav{
				background: url(/static/images/phone/caidan.png) 10% 10% no-repeat ;
				height: 80%;
				width:4rem ;
				border: none;
				margin-top:2%;
				margin-left:5px;
				outline: none;
                background-size: 70% 70%;
			}
			#addQuestion{
                display: block;
				background: url(/static/images/phone/tiwen.png)  no-repeat;
				border: none;
				height: 80%;
				width:4rem ;
				margin-top:3%;
				outline: none;
                background-size: 70% 70%;
			}
			.wrapSearch{
				border: 1px solid #CCC;
				height: 2rem;
				margin-top: 3rem;
				border-radius: 5px;
				width: 80%;
				margin-left: 5%;
			}
            .upSection{
				width: 100%;
				height: 200px;
				background: #333333;
				display: flex;
				justify-content: space-around;
                margin-top: -2px;
			}
			.upThree{
				width: 26%;
				height: 70%;
				background: #333333;
				position: relative;
			}
			.topImg{
				width: 60px;
				height:60px;
				display: block;
				margin: 0 auto;
				border: 3px solid #CCCCCC;
				border-radius: 100%;
			}
			.topNum{
				display: block;
				width: 30%;
				height: 20%;
				position: absolute;
				top: 50px;
				left: 35%;
			}
			.companyN{
				width: 90%;
				padding-bottom: 4%;
				margin: 0 auto;
				margin-top: 20%;
				border-bottom: 2px solid #666666;
                color: #999;
			}
			.fans{
				width: 90%;
				margin: 0 auto;
				height: 15%;
				margin-top: 3%;
                text-indent: 24px;
			}
			.ph_item{
				width: 100%;
				height: 60px;
				border-bottom: 1px solid #eeeeee;
				margin-top: 10px;
			}
			.ph_num{
				display:block;
				float: left;
				width: 20px;
				height: 60px;
				line-height: 60px;
				text-align: center;
				margin:0 4%;
                font-size: 22px;
			}
			.p_fans{
				display:block;
				float: left;
				height: 100%;
				margin-left: 4%;
			}
			.p_fans li{
				height: 45%;
			}
			.ph_img{
				display:block;
				float: left;
				width: 50px;
				height: 80%;
				margin-top: 1%;
				border: none;
                border-radius: 100%;
			}
            .fansIcon{
                background: url(/static/images/phone/fans_white.png) no-repeat;
                background-size: 18px;
                text-indent: 24px;
                font-size: 12px;
                color: white;
            }
            .fansIcon2{
                background: url(/static/images/phone/fans_black.png) no-repeat;
                background-size: 18px;
                text-indent: 24px;
                font-size: 12px;
                color: black;
            }
            .companyN{
                color: white;
            }
        .companyName{
            font-size: 14px;

        }
		</style>
</head>
<body>
            <div id="head">
				<button id="pullNav"></button>
				<div style="display: flex;justify-content: space-between; font-size: 16px; width: 10rem; margin-top: 3%;">
					<a href="/m/indexPage">
						<button style="color: #666;text-align: center;border: none;background: #333333;font-size: 16px;">首页</button>
					</a>
                    <a>
                        <button style="color: white;border: none;background: #333333;font-size: 16px;">排行榜</button>
                    </a>
				</div>
                <a id="addQuestion" href="/m/askModule">
                </a>

			</div>

			<div id="scroller">
                <div class="upSection">
			        <div id="top1" class="upThree" style="margin-top: 12%;">
				        <p class="topImg"></p>
				        <span class="topNum" style="background: url(/static/images/phone/ph_two.png) no-repeat;background-size: 100% 100%"></span>
				        <p class="companyN"></p>
				        <p class="fans fansIcon"></p>
			        </div>
			        <div id="top0" class="upThree" style="margin-top: 8%;">
				        <p class="topImg"></p>
				        <span class="topNum"  style="background: url(/static/images/phone/ph_one.png) no-repeat;background-size: 100% 100%"></span>
				        <p class="companyN"></p>
				        <p class="fans fansIcon"></p>
			        </div>
			        <div id="top2" class="upThree" style="margin-top: 12%;">
				        <p class="topImg"></p>
				        <span class="topNum"  style="background: url(/static/images/phone/ph_three.png) no-repeat;background-size: 100% 100%"></span>
				        <p class="companyN"></p>
				        <p class="fans fansIcon"></p>
			        </div>
		        </div>
		        <div class="downSection">
			        <ul id="ul_item">

			        </ul>
		        </div>
			</div>



        <div id="nav">                              <!--菜单页-->
			<div id="navLeft" >
				<div class="wrapSearch">
					<input id="cominput0" type="text" name="keywords" maxlength="20" value="" placeholder="搜索机器人账号" style="border: none;outline: none;height: 100%;width: 78%;padding-left: 0.2rem" />
					<span id="searchBtn"  style="display: inline-block;">搜索</span>
				</div>

				<div class="messBox" style="margin-top: 2rem;height: 30%">
					<div style="height: 48px">
                        <img alt="头像" src="{{ account.headImgUrl }} " style="height: 4rem;width: 4rem;border-radius:100%;margin-left:1rem;float: left"/>
					    <ul style="float:left;margin-left:2rem;">
						    <li style="height:24px;font-size: 18px;line-height: 24px;margin-top: 1rem;">{{ robot.name }}</li>
						    <li style=""></li>
					    </ul>
                    </div>

                    <a href="/m/messModule">
                        <div style="color: black;height:4rem;margin-top:2rem;border-bottom:1px solid #eeeeee;border-top:1px solid #eeeeee;">
                            <span style="display:block;width:4rem;height:4rem;float: left;background: url(/static/images/phone/isHaveMess.png) 0 3px no-repeat;background-size: 80% 80%"></span>
                            <span style="display:block;height: 4rem;width:7rem;line-height: 4rem;float: left;font-size: 14px">消息通知</span>
                            <span id="isHaveMess" style="float: right;display:block;width: 3rem;height: 4rem;background: url(/static/images/phone/isRed.png) no-repeat 45% 45%"></span>
                        </div>
                    </a>

				</div>
			</div>
			<div id="navRight" style="width: 50%;height:100%;float: right;background: rgba(0,0,0,0.3);">

			</div>
		</div>


</body>
    <script src="/static/js/lib/zepto.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="/static/js/loveAutoLogin.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
    autoLogin();
		var eventObj = {
			"pullNav":$("#pullNav"),
			"nav":$("#nav"),
			"navRight":$("#navRight"),
            "searchBtn":$("#searchBtn"),
			"navIn":function(){
				$("#nav").css({
					"left":"0",
					"transition": "left 1s"
				})
			},
			"navOut":function(){
				$("#nav").css({
					"left":"-100%",
					"transition": "left 1s"
				})
			},
			"init":function(){
			    this.showAllProblem();
			    this.isShowRed();
				var flag = true;
				this.pullNav.on("click",function(){
					if(flag){
						this.navIn();
						flag = !flag;
					}else{
						this.navOut();
						flag = !flag;
					}
				}.bind(this))

				this.navRight.on("click",function(){
					this.navOut();
					flag = true;
				}.bind(this));

				this.searchBtn.on("click",function () {
                    this.search();
                }.bind(this))
			},
            "showAllProblem":function () {
                $.ajax({
                    type: "GET",
                    contentType: "application/json",
                    url: "/loveMessageLog/selectCountGroupByReceiveId",
                    success:function (data) {
                        var data = JSON.parse(data);
                        console.log(data)
                        $.each(data,function (index,value) {
                            var receiveHeadImgUrl = value.receiveHeadImgUrl;
                            if(receiveHeadImgUrl==undefined||receiveHeadImgUrl==null||receiveHeadImgUrl==""){
                                receiveHeadImgUrl = "/static/images/phone/error1.png"
                            }
                            if(index<3){
                                $("#top"+index+" .topImg").css({
                                    "background":"url("+receiveHeadImgUrl+")",
                                    "background-size":"100% 100%"
                                });
                                $("#top"+index+" .companyN").html(value.receiveName);
                                $("#top"+index+" .fans").html(value.countLog)
                            }else{
                                var index0 = index+1;
                                var str = "<li class='ph_item'>"
					                str+="<b class='ph_num'>"+index0+"</b>"
					                str+="<img class='ph_img' src='"+receiveHeadImgUrl+"' alt='' />"
					                str+="<ul class='p_fans'>"
						            str+="<li class='companyName'>"+value.receiveName+"</li>"
						            str+="<li class='fansIcon2'>"+value.countLog+"</li></ul></li>"
                                $("#ul_item").html($("#ul_item").html()+str)
                            }
                        })
                    }
                })
            },
            "search":function () {
                $.ajax({
                    type: "GET",
                    contentType: "application/json",
                    url: "/api/company/search-for-keyword?keyword=" + encodeURI($('#cominput0').val()),
                    success:function(data){
                        console.log(data)
                    }
                })
            },
            "isShowRed":function () {
                $.ajax({
                    type: "GET",
                    contentType: "application/json",
                    url: "/loveMessageLog/selectCountByUserId",
                    success:function(data){
                        //console.log(data)
                        if(data=="0"){
                             $("#isHaveMess").css({
                                "background":"#FFF"
                            })
                        }else{
                            $("#isHaveMess").css({
                                "background":"url(/static/images/phone/isRed.png) no-repeat 45% 45%"
                            })
                        }
                    }
                })
            }

		}
		eventObj.init();
		</script>
</html>